<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Artist Alley Handle Finder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="bootstrap.min.css">
    <script src="index.js" defer></script>
    <script src="bootstrap.bundle.min.js" defer></script>
    <style>
        body {
            width: 400px;
            padding: 16px;
        }
    </style>
</head>
<body class="p-3" style="width: 400px;">
<div style="position: absolute; top: 8px; right: 12px; font-size: 0.85rem; color: gray; user-select: none;">
    v0.1 (ff)
</div>
<div class="d-flex align-items-center gap-2 mb-3">
    <img src="./assets/icon-128.png" alt="Logo" width="32" height="32" style="margin: 0;">
    <h2 class="mb-0">Artist Handle Finder</h2>
</div>
<ul class="nav nav-tabs mb-3" id="popupTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="main-tab" data-bs-toggle="tab" data-bs-target="#main" type="button"
                role="tab">Main
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="settings-tab" data-bs-toggle="tab" data-bs-target="#settings" type="button"
                role="tab">Settings
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="other-tab" data-bs-toggle="tab" data-bs-target="#other" type="button" role="tab">
            Other
        </button>
    </li>
</ul>

<div class="tab-content" id="popupTabContent">

    <div class="tab-pane fade show active" id="main" role="tabpanel">
        <div class="d-flex justify-content-center gap-2 mb-3">
            <button id="scrapeBtn" class="btn btn-outline-primary">Run</button>
            <button id="stopBtn" class="btn btn-outline-secondary">Stop</button>
        </div>
        <div class="mb-3">
            <label class="form-label" for="sheetSelect">Select Convention</label>
            <select id="sheetSelect" class="form-select"></select>
        </div>

        <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="skipBoothCheckbox">
            <label class="form-check-label" for="skipBoothCheckbox">Skip Booth Lookup</label>
        </div>
        <p id="return" class="text-success mt-2"></p>
        <div id="matchesList" class="border rounded p-2 mt-3"
             style="white-space: pre-wrap; max-height: 200px; overflow-y: auto;"></div>
    </div>

    <div class="tab-pane fade" id="settings" role="tabpanel">
        <div class="mb-3">
            <label class="form-label">Scroll Amount: <span id="scrollVal">1000</span> px</label>
            <input type="range" id="scrollSlider" class="form-range" min="100" max="1500" step="10" value="1000">
        </div>
        <div class="mb-3">
            <label class="form-label">Sleep Time: <span id="sleepVal">250</span> ms</label>
            <input type="range" id="sleepSlider" class="form-range" min="100" max="2000" step="10" value="250">
        </div>
        <div class="mb-3">
            <button id="clearStorageBtn" class="btn btn-danger">Clear Stored Handles</button>
            <button id="compareBtn" class="btn btn-warning">Manually Compare</button>
        </div>
        <div class="form-check mt-2">
            <input class="form-check-input" type="checkbox" id="autoRunStartupCheckbox">
            <label class="form-check-label" for="autoRunStartupCheckbox">
                Compare on startup
            </label>
        </div>

        <div class="form-check mt-2">
            <input class="form-check-input" type="checkbox" id="autoRunSheetChangeCheckbox">
            <label class="form-check-label" for="autoRunSheetChangeCheckbox">
                Compare on sheet change
            </label>
        </div>
        <div class="form-check mt-2">
            <input class="form-check-input" type="checkbox" id="copyToClipboardCheckbox">
            <label class="form-check-label" for="copyToClipboardCheckbox">
                Automatically copy link to clipboard
            </label>
        </div>

        <div class="mt-3">
            <button id="resetSettingsBtn" class="btn btn-outline-danger mt-2">Reset Settings</button>
        </div>
        </div>
    <div class="tab-pane fade" id="other" role="tabpanel">
        <div class="mt-3">
            <h5>FAQ</h5>
            <dl>
                <dt><strong>Incorrect/Weird Output?</strong></dt>
                <dd>This usually happens during the construction of a new spreadsheet where the data is incomplete.
                    You can check the "Skip Booth Lookup" option to get a more accurate result.
                </dd>
                <dt><strong>Followings count mismatch?</strong></dt>
                <dd>Try reducing the scroll amount, increasing the sleep time, or both in the Settings tab.
                </dd>
                <dt><strong>No handles collected?</strong></dt>
                <dd>Twitter's website may have been updated. Submit a bug report and I'll try to get to it.
                </dd>
            </dl>
        </div>

        <div class="d-flex flex-row align-items-center justify-content-center gap-3 mt-3">
            <a href="https://github.com/JexeI/AATwitterImporter" target="_blank">
                <img src="./assets/github.svg" alt="GitHub" style="width: 24px; height: 24px;">
            </a>
            <div data-bs-toggle="tooltip" data-bs-placement="top" title="jexel">
                <img src="./assets/discord.svg" alt="Discord" style="width: 24px; height: 24px; cursor: pointer;">
            </div>
        </div>
        <div class="text-center">
            <p>Made by <a href="https://twitter.com/_jexel" target="_blank">jexel</a> | Logo by <a
                    href="https://x.com/k231532s" target="_blank">emne</a></p>
        </div>
    </div>
    <p id="notice" class="mt-2"></p>
    <p id="status" class="mt-2"></p>
</div>
</body>
</html>